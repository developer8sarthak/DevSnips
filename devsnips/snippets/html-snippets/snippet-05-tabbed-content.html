<!--
  Responsive Tabbed Content Section
  - Accessible tab panel implementation
  - Keyboard navigation support
  - Responsive design (switches to accordion on mobile)
  - ARIA roles and states
  - Minimal JavaScript for tab switching
-->

<div class="tabs-container" role="tablist" aria-label="Content tabs">
  <div class="tab-list">
    <button class="tab-button" role="tab" aria-selected="true" aria-controls="panel-1" id="tab-1">
      Tab 1
    </button>
    <button class="tab-button" role="tab" aria-selected="false" aria-controls="panel-2" id="tab-2">
      Tab 2
    </button>
    <button class="tab-button" role="tab" aria-selected="false" aria-controls="panel-3" id="tab-3">
      Tab 3
    </button>
  </div>

  <div class="tab-panels">
    <div class="tab-panel" role="tabpanel" id="panel-1" aria-labelledby="tab-1" tabindex="0">
      <h3>Panel 1 Content</h3>
      <p>This is the content for the first tab panel. Add your content here.</p>
    </div>
    
    <div class="tab-panel" role="tabpanel" id="panel-2" aria-labelledby="tab-2" tabindex="0" hidden>
      <h3>Panel 2 Content</h3>
      <p>This is the content for the second tab panel. Add your content here.</p>
    </div>
    
    <div class="tab-panel" role="tabpanel" id="panel-3" aria-labelledby="tab-3" tabindex="0" hidden>
      <h3>Panel 3 Content</h3>
      <p>This is the content for the third tab panel. Add your content here.</p>
    </div>
  </div>
</div>

<style>
.tabs-container {
  max-width: 800px;
  margin: 2rem auto;
  padding: 0 1rem;
}

.tab-list {
  display: flex;
  gap: 0.5rem;
  border-bottom: 2px solid #ddd;
  margin-bottom: 1rem;
}

.tab-button {
  padding: 0.75rem 1.5rem;
  border: none;
  background: none;
  cursor: pointer;
  font-size: 1rem;
  border-bottom: 2px solid transparent;
  margin-bottom: -2px;
  transition: all 0.3s;
}

.tab-button[aria-selected="true"] {
  border-bottom-color: #4a90e2;
  color: #4a90e2;
}

.tab-panel {
  padding: 1rem;
}

/* Focus styles for accessibility */
.tab-button:focus-visible {
  outline: 2px solid #4a90e2;
  outline-offset: -2px;
}

/* Responsive styles */
@media (max-width: 600px) {
  .tab-list {
    flex-direction: column;
    gap: 0;
    border-bottom: none;
  }

  .tab-button {
    width: 100%;
    text-align: left;
    border: 1px solid #ddd;
    border-bottom: none;
    margin: 0;
  }

  .tab-button:last-child {
    border-bottom: 1px solid #ddd;
  }

  .tab-button[aria-selected="true"] {
    background: #4a90e2;
    color: white;
    border-color: #4a90e2;
  }

  .tab-panel {
    border: 1px solid #ddd;
    margin-top: 1rem;
  }
}
</style>

<script>
const tabList = document.querySelector('.tab-list');
const tabs = tabList.querySelectorAll('.tab-button');
const panels = document.querySelectorAll('.tab-panel');

// Click handler
tabList.addEventListener('click', e => {
  const target = e.target;
  if (target.role !== 'tab') return;
  
  // Deactivate all tabs
  tabs.forEach(tab => {
    tab.setAttribute('aria-selected', 'false');
    tab.tabIndex = -1;
  });
  
  // Hide all panels
  panels.forEach(panel => {
    panel.hidden = true;
  });
  
  // Activate clicked tab
  target.setAttribute('aria-selected', 'true');
  target.tabIndex = 0;
  
  // Show corresponding panel
  const panelId = target.getAttribute('aria-controls');
  document.getElementById(panelId).hidden = false;
});

// Key handler
tabList.addEventListener('keydown', e => {
  const target = e.target;
  if (target.role !== 'tab') return;
  
  let selectedTab = target;
  
  // Move left/right through tabs
  switch (e.key) {
    case 'ArrowLeft':
      selectedTab = target.previousElementSibling || tabs[tabs.length - 1];
      break;
    case 'ArrowRight':
      selectedTab = target.nextElementSibling || tabs[0];
      break;
  }
  
  if (selectedTab !== target) {
    selectedTab.click();
    selectedTab.focus();
  }
});
</script>