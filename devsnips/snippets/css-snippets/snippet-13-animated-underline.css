/*
 * Animated Underline Effect
 * Smooth underline animations for navigation links
 * 
 * Features:
 * - Multiple animation styles
 * - Configurable colors and timing
 * - RTL support
 * - High performance animations
 * - Accessible focus states
 * 
 * Usage:
 * <nav class="nav-underline">
 *   <a href="#" class="nav-underline__link">Link Text</a>
 * </nav>
 */

/* Base styles */
.nav-underline {
  --underline-color: #4a90e2;
  --underline-height: 2px;
  --underline-timing: 0.3s;
  display: flex;
  gap: 1.5rem;
}

/* Basic link styling */
.nav-underline__link {
  position: relative;
  color: inherit;
  text-decoration: none;
  padding: 0.25em 0;
}

/* Left to right slide */
.nav-underline__link--slide::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: var(--underline-height);
  background-color: var(--underline-color);
  transform: scaleX(0);
  transform-origin: right;
  transition: transform var(--underline-timing) ease;
}

.nav-underline__link--slide:hover::after,
.nav-underline__link--slide:focus::after {
  transform: scaleX(1);
  transform-origin: left;
}

/* Center expand */
.nav-underline__link--expand::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: var(--underline-height);
  background-color: var(--underline-color);
  transition: width var(--underline-timing) ease;
  transform: translateX(-50%);
}

.nav-underline__link--expand:hover::after,
.nav-underline__link--expand:focus::after {
  width: 100%;
}

/* Growing dots */
.nav-underline__link--dots {
  overflow: hidden;
}

.nav-underline__link--dots::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 4px;
  height: var(--underline-height);
  background-color: var(--underline-color);
  border-radius: 2px;
  transform: translateX(-50%) scaleX(1);
  transition: width var(--underline-timing) ease;
}

.nav-underline__link--dots:hover::after,
.nav-underline__link--dots:focus::after {
  width: 100%;
}

/* Gradient slide */
.nav-underline__link--gradient::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: var(--underline-height);
  background: linear-gradient(to right, var(--underline-color), var(--underline-color));
  background-size: 200% 100%;
  background-position: 100% 0;
  transition: background-position var(--underline-timing) ease;
}

.nav-underline__link--gradient:hover::after,
.nav-underline__link--gradient:focus::after {
  background-position: 0 0;
}

/* Double line */
.nav-underline__link--double {
  padding: 0.25em 0;
}

.nav-underline__link--double::before,
.nav-underline__link--double::after {
  content: '';
  position: absolute;
  width: 0;
  height: var(--underline-height);
  bottom: 0;
  background-color: var(--underline-color);
  transition: width var(--underline-timing) ease;
}

.nav-underline__link--double::before {
  left: 0;
}

.nav-underline__link--double::after {
  right: 0;
}

.nav-underline__link--double:hover::before,
.nav-underline__link--double:hover::after,
.nav-underline__link--double:focus::before,
.nav-underline__link--double:focus::after {
  width: 50%;
}

/* RTL Support */
[dir="rtl"] .nav-underline__link--slide::after {
  transform-origin: left;
}

[dir="rtl"] .nav-underline__link--slide:hover::after,
[dir="rtl"] .nav-underline__link--slide:focus::after {
  transform-origin: right;
}

/* Active state */
.nav-underline__link--active::after {
  transform: scaleX(1) !important;
  width: 100% !important;
  background-position: 0 0 !important;
}

/* Focus visible styles */
.nav-underline__link:focus-visible {
  outline: 2px solid var(--underline-color);
  outline-offset: 4px;
}

/* High contrast mode support */
@media (forced-colors: active) {
  .nav-underline__link::after {
    background-color: LinkText;
  }
}

/* Reduce motion preference */
@media (prefers-reduced-motion: reduce) {
  .nav-underline__link::after {
    transition-duration: 0.05s;
  }
}